unit UsuarioModel;

interface

uses
  SysUtils;

type
  TUsuario = class
  public
    FId: Integer;
    FNome: string;
    FEmail: string;
    FSenha: string;
    FPeso: Double;
    FAltura: Double;

    constructor Create(AId: Integer; const ANome, AEmail, ASenha: string; APeso, AAltura: Double);
    constructor Create();
    function SqlTodosUsuarios(): string;
    function UpdateUser(): string;
    function UsuarioExiste(const Nome, Senha : string): boolean;
  end;

implementation

constructor Create();
begin

end;

constructor TUsuario.Create(AId: Integer; const ANome, AEmail, ASenha: string; APeso, AAltura: Double);
begin
  FId := AId;
  FNome := ANome;
  FEmail := AEmail;
  FSenha := ASenha;
  FPeso := APeso;
  FAltura := AAltura;
end;

function TUsuario.SqlTodosUsuarios(): string;
begin
  Result := 'SELECT * FROM usuario';
end;

function TUsuario.UpdateUser(): string;
begin
  Result := 'UPDATE USUARIO SET ' +
            'NOME = ''' + Self.FNome + ''', ' +
            'PESO = ''' + FloatToStr(Self.FPeso) + ''', ' +
            'ALTURA = ''' + FloatToStr(Self.FAltura) + '''' +
            ' WHERE ID = ' + IntToStr(Self.FId);
end;

function UsuarioExiste(const Nome, Senha: string): string;
begin
  Result := Format(
    'SELECT * FROM USUARIO WHERE (NOME = ''%s'' OR EMAIL = ''%s'') AND SENHA = ''%s''',
    [Nome, Nome, Senha]
  );
end;


end.

